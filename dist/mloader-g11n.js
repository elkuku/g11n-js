const md5=require("locutus/php/strings/md5"),strtr=require("locutus/php/strings/strtr"),base64_decode=require("locutus/php/url/base64_decode"),call_user_func=require("locutus/php/funchand/call_user_func"),sprintf=require("locutus/php/strings/sprintf");class G11n{constructor(){this.strings={},this.stringsPlural={},this.pluralFunction="",this.debug=!1}loadLanguageStrings(a){for(let b in a)this.strings[b]=a[b]}loadPluralStrings(a){for(let b in a)this.stringsPlural[b]=a[b]}setPluralFunction(a){this.pluralFunction=a}translate(a,b){if(this.debug)return this.debugTranslate(a,b);let c=md5(a);if("undefined"!=typeof this.strings[c]){let a=base64_decode(this.strings[c]);return b?strtr(a,b):a}return console.log("oooooo"),b?strtr(a,b):a}debugTranslate(a,b){let c,d=md5(a);if("undefined"!=typeof this.strings[d]){c=this.log(a),b&&console.warn(b);let e=base64_decode(this.strings[d]);return sprintf(c,b?strtr(e,b):e)}return c=this.log(a,"warn"),b&&console.error(b),sprintf(c,b?strtr(a,b):a)}translatePlural(a,b,c,d){if(this.debug)return this.debugTranslatePlural(a,b,c,d);let e=md5(a),f=call_user_func(this.pluralFunction,c);if("undefined"!=typeof this.stringsPlural[e]&&"undefined"!=typeof this.stringsPlural[e][f]){let a=base64_decode(this.stringsPlural[e][f]);return d?strtr(a,d):a}let g=1===c?a:b;return d?strtr(g,d):g}debugTranslatePlural(a,b,c,d){let e,f,g=md5(a),h=call_user_func(this.pluralFunction,c);if("undefined"!=typeof this.stringsPlural[g]&&"undefined"!=typeof this.stringsPlural[g][h]){e=sprintf("%s\nCount: %d",a+" / "+b,c),f=this.log(e),d&&console.warn(d);let i=base64_decode(this.stringsPlural[g][h]);return sprintf(f,d?strtr(i,d):i)}let i=1===c?a:b;return i=d?strtr(i,d):i,f=this.log(sprintf("Untranslated plural:\nO: %s",i),"warn"),d&&console.error(d),sprintf(f,i)}log(a,b){let c="%s";switch(b){case"warn":c="\xBF-%s-\xBF",console.error(a);break;case void 0:default:c="+-%s-+",console.warn(a);}return c}}g11n=new G11n,module.exports=g11n,window.g11n=g11n;